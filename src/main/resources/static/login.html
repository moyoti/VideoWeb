<!DOCTYPE html>
<!--suppress ALL -->
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>登陆</title>

    <link href="https://cdn.staticfile.org/twitter-bootstrap/3.3.7/css/bootstrap.min.css" rel="stylesheet">
    <script src="https://cdn.staticfile.org/jquery/2.1.1/jquery.min.js"></script>
    <script src="https://cdn.staticfile.org/twitter-bootstrap/3.3.7/js/bootstrap.min.js"></script>
    <script>
        function getVerifyCode(obj) {
            obj.src="verify/getImage?"+Math.random();
//            obj.src="verify/getImage";
        }
        function refreshCode() {
            var vci=document.getElementById("verifycode");
            getVerifyCode(vci)
        }
        function login() {
            var username=$("u_name").val();
            var password=$("u_pass").val();
            var vc=$("vcode").val()
            $.ajax({
                type: "POST",
                url: "/users/login",
                data: {password: password,username:username,vcode:vc},
                success: function (re) {
//                    alert("List size is "+userlist.length);
//                    for(var i=0;i<userlist.length;i++){
//                        alert(userlist[i].uname+" "+userlist[i].uid+" "+userlist[i].password);
//
//                        var tbBody = "";
//                        tbBody += "<tr><td><button id='"+userlist[i].uid+"' onclick='alert(this.id)'>aaa</button></td></tr>";
//                        $("#table").append(tbBody);
//                    }

                }
            })
        }
    </script>
</head>
<body>
<div class="navbar navbar-inverse visible-lg visible-md navbar-fixed-top navbar-hidden" role="navigation"
     style="top: 0px;">
    <div class="container">

        <div class="navbar-header">
            <a class="navbar-brand" href="#">首页</a>
        </div>
        <div>
            <ul class="nav navbar-nav">
                <li class="active"><a href="#">链接1</a></li>
                <li><a href="#">链接2</a></li>
                <li><a href="#" class="dropdown-toggle" data-toggle="dropdown">链接3</a></li>

            </ul>
            <ul class="nav navbar-nav navbar-right">
                <!--登录时-->
                <li><img class="img-circle" src="http://localhost:8081/pic/20151101201716.jpg"
                         style="height: 38px;width:38px;margin-top: 6px"></li>
                <li><a href="#">username</a></li>
                <!--未登录时-->
                <li><a href="#"><span class="glyphicon glyphicon-user"></span> 注册</a></li>
                <li><a href="#"><span class="glyphicon glyphicon-log-in"></span> 登录</a></li>
            </ul>
        </div>
    </div>
</div>
<div class="container" style="margin-top: 15%">
    <div class="row">
        <div class="col-md-3 col-md-offset-4">
            <label>用户名：</label><span id="usernameErr"></span>
            <input id="u_name" type="text" class="form-control" placeholder="用户名" maxlength="10">
            <label>密码：</label><span id="passwordErr"></span>
            <input id="u_pass" type="password" class="form-control" placeholder="密码"maxlength="12">
            <label>验证码：</label><span id="verifyErr"></span>
            <input id="vcode" type="text" class="form-control" placeholder="验证码">
            <img id="verifycode" src="verify/getImage" alt="重新获取" onclick="getVerifyCode(this)">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a onclick="refreshCode()">看不清换一张</a><br/>
            <button type="button" class="btn btn-primary" style="width: 100%" onclick="login()">登陆</button>
        </div>
    </div>
</div>
</body>
</html>